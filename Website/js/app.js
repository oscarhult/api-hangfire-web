/* https://codepen.io/alexzaworski/pen/mEZvrG */
var c=document.getElementById("c"),ctx=c.getContext("2d"),cH,cW,bgColor="#FF6138",animations=[],circles=[],colorPicker=function(){var a=["#FF6138","#FFBE53","#2980B9","#282741"],b=0;return{next:function(){b=b++<a.length-1?b:0;return a[b]},current:function(){return a[b]}}}();function removeAnimation(a){a=animations.indexOf(a);-1<a&&animations.splice(a,1)}function calcPageFillRadius(a,b){return Math.sqrt(Math.pow(Math.max(a-0,cW-a),2)+Math.pow(Math.max(b-0,cH-b),2))}
function addClickListeners(){document.addEventListener("touchstart",handleEvent);document.addEventListener("mousedown",handleEvent)}
function handleEvent(a){a.touches&&(a.preventDefault(),a=a.touches[0]);var b=colorPicker.current(),d=colorPicker.next(),e=calcPageFillRadius(a.pageX,a.pageY),f=Math.min(200,.4*cW),h=new Circle({x:a.pageX,y:a.pageY,r:0,fill:d}),k=anime({targets:h,r:e,duration:Math.max(e/2,750),easing:"easeOutQuart",complete:function(){bgColor=h.fill;removeAnimation(k)}});d=new Circle({x:a.pageX,y:a.pageY,r:0,fill:b,stroke:{width:3,color:b},opacity:1});d=anime({targets:d,r:f,opacity:0,easing:"easeOutExpo",duration:900,
complete:removeAnimation});e=[];for(var l=0;32>l;l++){var m=new Circle({x:a.pageX,y:a.pageY,fill:b,r:anime.random(24,48)});e.push(m)}a=anime({targets:e,x:function(g){return g.x+anime.random(f,-f)},y:function(g){return g.y+anime.random(1.15*f,1.15*-f)},r:0,easing:"easeOutExpo",duration:anime.random(1E3,1300),complete:removeAnimation});animations.push(k,d,a)}function extend(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a}var Circle=function(a){extend(this,a)};
Circle.prototype.draw=function(){ctx.globalAlpha=this.opacity||1;ctx.beginPath();ctx.arc(this.x,this.y,this.r,0,2*Math.PI,!1);this.stroke&&(ctx.strokeStyle=this.stroke.color,ctx.lineWidth=this.stroke.width,ctx.stroke());this.fill&&(ctx.fillStyle=this.fill,ctx.fill());ctx.closePath();ctx.globalAlpha=1};
var animate=anime({duration:Infinity,update:function(){ctx.fillStyle=bgColor;ctx.fillRect(0,0,cW,cH);animations.forEach(function(a){a.animatables.forEach(function(b){b.target.draw()})})}}),resizeCanvas=function(){cW=window.innerWidth;cH=window.innerHeight;c.width=cW*devicePixelRatio;c.height=cH*devicePixelRatio;ctx.scale(devicePixelRatio,devicePixelRatio)};
(function(){resizeCanvas();window.CP&&(window.CP.PenTimer.MAX_TIME_IN_LOOP_WO_EXIT=6E3);window.addEventListener("resize",resizeCanvas);addClickListeners();window.location.pathname.match(/fullcpgrid/)&&startFauxClicking();handleInactiveUser()})();
function handleInactiveUser(){function a(){clearTimeout(b);document.removeEventListener("mousedown",a);document.removeEventListener("touchstart",a)}var b=setTimeout(function(){fauxClick(cW/2,cH/2)},2E3);document.addEventListener("mousedown",a);document.addEventListener("touchstart",a)}function startFauxClicking(){setTimeout(function(){fauxClick(anime.random(.2*cW,.8*cW),anime.random(.2*cH,.8*cH));startFauxClicking()},anime.random(200,900))}
function fauxClick(a,b){var d=new Event("mousedown");d.pageX=a;d.pageY=b;document.dispatchEvent(d)};